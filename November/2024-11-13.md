## 📆 2024-11-13

### 🔔 학습 목표

- "그런 REST API로 괜찮은가" 영상 시청 및 후기 작성
- 딥다이브 진행 및 요약 정리 - React
- 학습 목표 3

### 🚀 Today I Learned

#### 주제 1: 그런 REST API로 괜찮은가

#### 아키텍처 스타일, rest를 구성하는 스타일

- 아키텍처 스타일: 제약조건의 집합
- REST를 구성하는 스타일: client-server, stateless, cache, uniform interface, layered system, code-on-demand(optional)
- 나머지는 자바스크립트, Nodejs, react 등을 쓰다보면 자연스럽게 제약조건을 만족하게 되지만 uniform interface은 만족하지 못하는 경우가 많다.

#### Uniform interface 의 제약조건

REST API의 제약 조건 중 하나인 Uniform Interface는 클라이언트와 서버가 일관되고 이해하기 쉬운 방식으로 상호작용할 수 있도록 하기 위해 API의 디자인을 표준화하는 중요한 원칙입니다. 이 원칙은 개발자나 사용자가 다양한 RESTful 서비스를 쉽게 이해하고 사용할 수 있도록 돕고, 서버와 클라이언트 간의 상호작용을 명확히 규정하는 역할을 합니다.

Uniform Interface 원칙을 충족하기 위해, REST API에서는 다음과 같은 네 가지 주요 요소가 사용됩니다.

- 자원 식별 (Resource Identification)

모든 자원은 고유한 URL을 통해 식별되어야 합니다.
예를 들어 https://example.com/users/1이라는 URL은 특정 사용자를 식별합니다. 이렇게 자원마다 고유한 URL을 지정하면 클라이언트는 URL을 통해 자원에 접근할 수 있습니다.

- 표준화된 HTTP 메서드 사용 (Resource Manipulation through Representations)

HTTP 메서드(GET, POST, PUT, DELETE)를 통해 자원에 대한 행위를 표준화된 방식으로 명령할 수 있습니다.
예를 들어, GET 요청은 데이터를 조회하고, POST 요청은 새 데이터를 생성하고, PUT 요청은 기존 데이터를 수정하며, DELETE 요청은 데이터를 삭제하는 식으로, 어떤 자원에 어떤 메서드를 사용할지 쉽게 예측할 수 있습니다.

- 자기 설명적 메시지 (Self-descriptive Messages)

요청이나 응답 메시지에 필요한 정보가 포함되어 있어야 합니다. 이때 HTTP 헤더가 중요한 역할을 하며, 이 헤더는 메시지의 성격이나 데이터 포맷(JSON, XML 등)을 정의합니다.
예를 들어 Content-Type: application/json 헤더를 통해 클라이언트와 서버가 주고받는 데이터의 포맷을 알 수 있습니다.

- HATEOAS (Hypermedia as the Engine of Application State)

클라이언트가 자원을 탐색할 수 있는 링크를 제공해야 합니다. 즉, 클라이언트가 현재 상태에서 다음에 무엇을 할 수 있을지에 대한 힌트를 API 응답에 포함해야 합니다.
예를 들어, 사용자 정보를 조회할 때 다음에 사용자가 접근할 수 있는 관련 링크들이 함께 제공된다면 클라이언트는 해당 링크를 통해 다른 관련 자원으로 쉽게 이동할 수 있습니다.

#### 왜 Uniform Interface?

- 독립적 진화: 서버와 클라이언트가 각각 독립적으로 진화하기 위함. 즉, 서버의 기능이 변경되어도 클라이언트를 업데이트할 필요가 없다.

#### REST는 성공했다. 그런데 REST API는 ?

- 대부분의 개발자는 REST API를 개발한다. 하지만 실제로는 REST 제약 조건을 제대로 따르지 않는다고 한다. 이런 경우에는 REST API가 아니라 HTTP API라고 불러야 한다.
- 제대로 된 REST API를 구현하고 REST API라고 부르는 것이 API 개발자의 도전 과제이다.

#### 왜 API는 REST가 잘 안되나

- HTML은 HTML 헤더 등의 명세와 HTML 태그의 해석방법도 명세에 자세히 나와있으므로 Self-descriptive도 만족하고, a태그로 하이퍼링크가 가능해서 HATEOAS를 만족한다.
- 반면에 JSON은 명세에 문서를 파싱하는 방법은 명시 가능하나 key값이 무엇을 의미하는지 알 방법이 없다. 그래서 Self-descriptive에 실패한다. 또 다음 상태로 전이할 링크도 없기 때문에 HATEOAS에도 실패한다.
- 따라서 JSON이 Self-descriptive와 HATEOAS를 만족하기 위해서는 따로 추가적인 정보를 적어두어야 하는데 사실 대부분의 개발자들은 안한다. 그럴 때 그 API를 REST API라고 부르지 말고 HTTP API라고 불러야 하긴 하는데 그냥 REST API라고 부르긴 한다.

#### 주제 2: 딥다이브 진행 및 요약 정리 - React

#### DOM vs Virtual DOM

DOM: HTML 요소들을 동적으로 다루기 위해 트리 형태의 객체로 만들어 관리하는 개념, DOM 자체는 객체이며 DOM이 Javascript 로 작성되어야할 이유는 없음.

**장점**

- 동적으로 HTML 조작 가능
- 트리 구조를 가져 계층 관계 표현에 좋고 접근 시 유리
- 많은 웹 브라우저에서 표준을 따르며 API 를 제공함

**단점**

- 변경 발생 시 전체 DOM을 다시 렌더링해야 해 성능 비용이 큼

Virtual DOM: JavaScript 로 만들어진 DOM 의 사본 개념, 실제 DOM 이 가지고 있던 변경 발생 시 전체 DOM을 재렌더링하는 비효율성을 막기위해 사용하고 리액트에서 상태나 속성이 변경사항이 생길 때 메모리 상에 Virtual DOM 을 생성하고 실제 DOM 과 변경사항을 비교해 변경된 부분만을 반영한다.

### Virtual DOM 의 장단점

**장점**

- 실제 DOM 의 재렌더링 비효율성을 개선할 수 있음
- Virtual DOM 자체가 렌더링에 사용되는 것은 아니라 변경사항이 추가되어도 렌더링 비용이 발생하지 않음.
- 변경사항 반영을 효율적으로 처리해 사용자에게 시각적으로 좋은 경험을 줄 수 있음

**단점**

- 변경 발생 시 Virtual DOM을 재생성해야 해 성능 비용이 큼
- 메모리 상에서 관리되어 메모리 사용량 증가.
- 단순한 문서에서는 오버헤드 발생 가능 (차이 비교 과정)

#### 전역 상태 관리

- Props Drilling(props를 사용한 데이터 전달)을 막기 위해 중앙 저장소(Store)를 두어 상태(State)들을 관리하는 것을 전역 상태 관리라고 한다.
- 대표적인 상태 관리 라이브러리에는 Redux, MobX, Context API, Recoil 등이 있다.
- 전역 상태 관리를 통해 컴포넌트 간의 데이터 흐름을 간소화하고, 유지보수를 용이하게 할 수 있다.

#### 라우터

- 라우터는 여러가지 분야에서 사용되는 단어지만, 리액트에서는 주어진 URL로 표시되는 웹 페이지를 결저앟는 라이브러리 이다.
- 서버사이드 라우팅: URL이 변경될 때 마다 서버에 요청을 보내 라우팅을 서버에서 수행한다. SEO(검색엔진최적화) 에 좋다.
- React 라우팅(클라이언트 사이드): URL이 변경되어도 서버에 요청을 보내지 않고 모든 라우팅은 자바스크립트가 수행한다. 초기에 모든 리소스를 가지고 오기 때문에 로딩이 느릴 수 있다.

#### SPA와 MPA, 그리고 CSR

- SPA(Single Page Application): 하나의 페이지에서 새로운 페이지를 불러오지 않고, 필요한 부분만 동적으로 변경하는 애플리케이션
- MPA(Multiple Page Application): 여러 개의 페이지로 이루어진 애플리케이션
- SPA는 CSR과 SSR 모두 사용하지만, MPA는 오직 SSR만 사용 가능

- SPA는 필요한 리소스만 그때그때 서버에 요청하기 때문에 서버 부담이 적고, 새로고침을 안하기 때문에 UX가 부드럽다.
- MPA는 SEO가 쉽고, 페이지를 늘리고 싶으면 그냥 늘리고 라우팅만 해주면 되기 때문에 확장성이 좋다.

- CSR: 클라이언트에서 렌더링을 진행하는 방식, 서버에서 HTML파일과 JS파일을 받아 클라이언트(브라우저)에서 실행시켜 렌더링해주는 방식
- SSR: 서버에서 렌더링을 진행하는 방식, 서버에서 필요한 data를 가지고 HTML 파일을 만들고, 이 HTML 파일과 이 파일을 동적으로 제어할 수 있는 소스코드를 함께 클라이언트에게 보내줌. 따라서 웹 브라우저에서 HTML은 받아서 화면 UI는 나왔지만(Viewable) 아직 자바스크립트를 다운로드하지 못했을 수도 있기 때문에 상호작용은 조금 기다려야 할 수도 있다.

### 🗨️ 오늘의 회고

- 개발자 컨퍼런스의 발표를 보고 정리해본 것은 이번이 처음인 것 같다. 개발자로서 가져야 할 덕목 중에는 코딩 능력도 있지만 발표 능력(소프트 스킬) 도 중요하다는 점을 느꼈다.

### 📰 참고 자료 및 링크

- [그런 REST API로 괜찮은가](https://www.youtube.com/watch?v=RP_f5dMoHFc)
- [REST API 제약조건](https://velog.io/@kms8571/REST%EB%A5%BC-%EC%9C%84%ED%95%9C-uniform-interface)
